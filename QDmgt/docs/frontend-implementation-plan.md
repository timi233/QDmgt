# å‰ç«¯å®ç°è®¡åˆ’ - Frontend Implementation Plan

**ç”Ÿæˆæ—¶é—´**: 2025-10-14
**çŠ¶æ€**: è¿›è¡Œä¸­

## æ¦‚è¿°

åç«¯APIå·²å®Œæ•´å®ç°ï¼Œå‰ç«¯éœ€è¦è¿æ¥æ‰€æœ‰åŠŸèƒ½å¹¶è¡¥å……ç¼ºå¤±æ¨¡å—ã€‚

---

## Phase 1: åŸºç¡€è®¾æ–½ (Infrastructure) âœ… **å·²å®Œæˆ**

### 1.1 APIå®¢æˆ·ç«¯å°è£…
- [x] åˆ›å»º `src/services/api.ts` - Axiosé…ç½®å’Œæ‹¦æˆªå™¨
- [x] åˆ›å»º `src/services/auth.service.ts` - è®¤è¯APIæœåŠ¡
- [x] åˆ›å»º `src/services/channel.service.ts` - æ¸ é“APIæœåŠ¡
- [ ] åˆ›å»º `src/services/assignment.service.ts` - åˆ†é…APIæœåŠ¡
- [ ] åˆ›å»º `src/services/target.service.ts` - ç›®æ ‡APIæœåŠ¡
- [ ] åˆ›å»º `src/services/execution.service.ts` - æ‰§è¡Œè®¡åˆ’APIæœåŠ¡
- [x] JWT Tokenå­˜å‚¨å’Œç®¡ç†ï¼ˆlocalStorageï¼‰
- [x] è¯·æ±‚/å“åº”æ‹¦æˆªå™¨ï¼ˆè‡ªåŠ¨æ·»åŠ tokenã€é”™è¯¯å¤„ç†ï¼‰

### 1.2 å…¨å±€çŠ¶æ€ç®¡ç†
- [x] è¯„ä¼°æ˜¯å¦éœ€è¦Redux/Contextï¼ˆä½¿ç”¨React Contextï¼‰
- [x] åˆ›å»º `src/contexts/AuthContext.tsx` - è®¤è¯çŠ¶æ€ç®¡ç†
- [x] åˆ›å»ºè‡ªå®šä¹‰hooks: `useAuth()`

### 1.3 è·¯ç”±ç³»ç»Ÿ
- [x] æ›´æ–° `src/App.js` è·¯ç”±é…ç½®
- [x] æ·»åŠ å—ä¿æŠ¤è·¯ç”±ç»„ä»¶ `PrivateRoute.tsx`
- [x] è·¯ç”±ç»“æ„ï¼š
  ```
  /login          â†’ ç™»å½•é¡µ âœ…
  /               â†’ é‡å®šå‘åˆ°/channelsï¼ˆéœ€è®¤è¯ï¼‰ âœ…
  /channels       â†’ æ¸ é“ç®¡ç†ï¼ˆéœ€è®¤è¯ï¼‰ âœ…
  /register       â†’ æ³¨å†Œé¡µï¼ˆå¾…å®ç°ï¼‰
  /assignments    â†’ åˆ†é…ç®¡ç†ï¼ˆå¾…å®ç°ï¼‰
  /targets        â†’ ç›®æ ‡è§„åˆ’ï¼ˆå¾…å®ç°ï¼‰
  /execution      â†’ æ‰§è¡Œè®¡åˆ’ï¼ˆå¾…å®ç°ï¼‰
  /users          â†’ ç”¨æˆ·ç®¡ç†ï¼ˆå¾…å®ç°ï¼‰
  ```

---

## Phase 2: è®¤è¯ç³»ç»Ÿ (Authentication) âœ… **åŸºæœ¬å®Œæˆ**

### 2.1 ç™»å½•/æ³¨å†Œé¡µé¢
- [x] åˆ›å»º `src/pages/LoginPage.tsx`
- [ ] åˆ›å»º `src/pages/RegisterPage.tsx`
- [x] ç™»å½•è¡¨å•ï¼ˆç”¨æˆ·åã€å¯†ç ï¼‰
- [ ] æ³¨å†Œè¡¨å•ï¼ˆç”¨æˆ·åã€é‚®ç®±ã€å¯†ç ã€å…¨åï¼‰
- [x] è¡¨å•éªŒè¯
- [x] é”™è¯¯æç¤º

### 2.2 è®¤è¯é›†æˆ
- [x] å®ç°ç™»å½•é€»è¾‘ï¼ˆè°ƒç”¨ `POST /auth/login`ï¼‰
- [ ] å®ç°æ³¨å†Œé€»è¾‘ï¼ˆè°ƒç”¨ `POST /auth/register`ï¼‰
- [x] Tokenå­˜å‚¨å’Œè‡ªåŠ¨åˆ·æ–°
- [x] ç™»å‡ºåŠŸèƒ½
- [x] è·¯ç”±å®ˆå«ï¼ˆæœªç™»å½•è·³è½¬åˆ°ç™»å½•é¡µï¼‰

---

## Phase 3: æ¸ é“ç®¡ç†è¿æ¥API ğŸ“¡ é«˜ä¼˜å…ˆçº§

### 3.1 è¿æ¥ç°æœ‰UIåˆ°åç«¯
- [ ] ä¿®æ”¹ `ChannelsPage.tsx` - ç§»é™¤mockæ•°æ®ï¼Œè°ƒç”¨çœŸå®API
- [ ] å®ç° `GET /channels/` - åˆ—è¡¨ã€åˆ†é¡µã€æœç´¢ã€ç­›é€‰
- [ ] å®ç° `POST /channels/` - åˆ›å»ºæ¸ é“ï¼ˆè¡¨å•æäº¤ï¼‰
- [ ] å®ç° `PUT /channels/{id}` - æ›´æ–°æ¸ é“ï¼ˆç¼–è¾‘è¡¨å•æäº¤ï¼‰
- [ ] å®ç° `DELETE /channels/{id}` - åˆ é™¤æ¸ é“ï¼ˆæ·»åŠ åˆ é™¤æŒ‰é’®ï¼‰
- [ ] å®ç° `GET /channels/{id}` - æŸ¥çœ‹è¯¦æƒ…

### 3.2 é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€
- [ ] æ·»åŠ APIè°ƒç”¨é”™è¯¯å¤„ç†
- [ ] ä¼˜åŒ–åŠ è½½çŠ¶æ€UI
- [ ] æ·»åŠ æˆåŠŸ/å¤±è´¥Toastæç¤º

---

## Phase 4: å¯¼èˆªç³»ç»Ÿ (Navigation) ğŸ§­ ä¸­ä¼˜å…ˆçº§

### 4.1 å…¨å±€å¯¼èˆª
- [ ] åˆ›å»º `src/components/Navbar.tsx` - é¡¶éƒ¨å¯¼èˆªæ 
- [ ] åˆ›å»º `src/components/Sidebar.tsx` - ä¾§è¾¹æ ï¼ˆå¯é€‰ï¼‰
- [ ] å¯¼èˆªèœå•é¡¹ï¼š
  - ä»ªè¡¨æ¿
  - æ¸ é“ç®¡ç†
  - åˆ†é…ç®¡ç†
  - ç›®æ ‡è§„åˆ’
  - æ‰§è¡Œè®¡åˆ’
  - ç”¨æˆ·ç®¡ç†ï¼ˆä»…ç®¡ç†å‘˜å¯è§ï¼‰
- [ ] ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤ºï¼ˆå³ä¸Šè§’ï¼‰
- [ ] ç™»å‡ºæŒ‰é’®

### 4.2 å¸ƒå±€ç»„ä»¶
- [ ] åˆ›å»º `src/components/Layout.tsx` - ä¸»å¸ƒå±€
- [ ] å“åº”å¼è®¾è®¡

---

## Phase 5: åˆ†é…ç®¡ç† (Assignments) ğŸ“‹ ä¸­ä¼˜å…ˆçº§

### 5.1 åˆ†é…ç®¡ç†é¡µé¢
- [ ] åˆ›å»º `src/pages/AssignmentsPage.tsx`
- [ ] åˆ†é…åˆ—è¡¨ï¼ˆæŒ‰ç”¨æˆ·/æŒ‰æ¸ é“ç­›é€‰ï¼‰
- [ ] åˆ›å»ºåˆ†é…è¡¨å•
- [ ] ç¼–è¾‘åˆ†é…ï¼ˆæƒé™çº§åˆ«ã€ç›®æ ‡è´£ä»»ï¼‰
- [ ] åˆ é™¤åˆ†é…
- [ ] æƒé™æ£€æŸ¥åŠŸèƒ½

### 5.2 APIé›†æˆ
- [ ] å®ç° `POST /assignments/` - åˆ›å»ºåˆ†é…
- [ ] å®ç° `GET /assignments/user/{user_id}` - æŸ¥è¯¢ç”¨æˆ·åˆ†é…
- [ ] å®ç° `GET /assignments/channel/{channel_id}` - æŸ¥è¯¢æ¸ é“åˆ†é…
- [ ] å®ç° `PUT /assignments/{id}` - æ›´æ–°åˆ†é…
- [ ] å®ç° `DELETE /assignments/{id}` - åˆ é™¤åˆ†é…

---

## Phase 6: ç›®æ ‡è§„åˆ’ (Targets) ğŸ¯ ä¸­ä¼˜å…ˆçº§

### 6.1 ç›®æ ‡ç®¡ç†é¡µé¢
- [ ] åˆ›å»º `src/pages/TargetsPage.tsx`
- [ ] ç›®æ ‡åˆ—è¡¨ï¼ˆæŒ‰æ¸ é“åˆ†ç»„ï¼‰
- [ ] åˆ›å»ºç›®æ ‡è¡¨å•ï¼ˆå¹´ã€å­£åº¦ã€æœˆã€ä¸šç»©ç›®æ ‡ã€å•†æœºç›®æ ‡ã€é¡¹ç›®æ•°é‡ï¼‰
- [ ] ç¼–è¾‘ç›®æ ‡
- [ ] æ›´æ–°è¾¾æˆæƒ…å†µ
- [ ] å®Œæˆåº¦ç™¾åˆ†æ¯”å±•ç¤º

### 6.2 APIé›†æˆ
- [ ] å®ç° `POST /targets/` - åˆ›å»ºç›®æ ‡
- [ ] å®ç° `GET /targets/channel/{channel_id}` - æŸ¥è¯¢æ¸ é“ç›®æ ‡
- [ ] å®ç° `PUT /targets/{id}` - æ›´æ–°ç›®æ ‡
- [ ] å®ç° `PATCH /targets/{id}/achievement` - æ›´æ–°è¾¾æˆ
- [ ] å®ç° `GET /targets/{id}/completion` - è·å–å®Œæˆåº¦

---

## Phase 7: æ‰§è¡Œè®¡åˆ’ (Execution Plans) ğŸ“… ä½ä¼˜å…ˆçº§

### 7.1 æ‰§è¡Œè®¡åˆ’é¡µé¢
- [ ] åˆ›å»º `src/pages/ExecutionPlansPage.tsx`
- [ ] è®¡åˆ’åˆ—è¡¨ï¼ˆæœˆåº¦/å‘¨åº¦ç­›é€‰ï¼‰
- [ ] åˆ›å»ºè®¡åˆ’è¡¨å•
- [ ] ç¼–è¾‘è®¡åˆ’
- [ ] æ›´æ–°æ‰§è¡ŒçŠ¶æ€
- [ ] åˆ é™¤è®¡åˆ’

### 7.2 APIé›†æˆ
- [ ] å®ç° `POST /execution-plans/` - åˆ›å»ºè®¡åˆ’
- [ ] å®ç° `GET /execution-plans/channel/{channel_id}` - æŸ¥è¯¢æ¸ é“è®¡åˆ’
- [ ] å®ç° `GET /execution-plans/user/{user_id}` - æŸ¥è¯¢ç”¨æˆ·è®¡åˆ’
- [ ] å®ç° `PUT /execution-plans/{id}` - æ›´æ–°è®¡åˆ’
- [ ] å®ç° `PATCH /execution-plans/{id}/status` - æ›´æ–°çŠ¶æ€
- [ ] å®ç° `DELETE /execution-plans/{id}` - åˆ é™¤è®¡åˆ’

---

## Phase 8: ç”¨æˆ·ç®¡ç† (Users) ğŸ‘¥ ä½ä¼˜å…ˆçº§

### 8.1 ç”¨æˆ·ç®¡ç†é¡µé¢ï¼ˆä»…ç®¡ç†å‘˜ï¼‰
- [ ] åˆ›å»º `src/pages/UsersPage.tsx`
- [ ] ç”¨æˆ·åˆ—è¡¨
- [ ] åˆ›å»ºç”¨æˆ·
- [ ] ç¼–è¾‘ç”¨æˆ·ï¼ˆè§’è‰²ã€æ¿€æ´»çŠ¶æ€ï¼‰
- [ ] åˆ é™¤/ç¦ç”¨ç”¨æˆ·

### 8.2 éœ€è¦åç«¯æ–°å¢API
- [ ] åç«¯æ·»åŠ  `GET /users/` - ç”¨æˆ·åˆ—è¡¨
- [ ] åç«¯æ·»åŠ  `PUT /users/{id}` - æ›´æ–°ç”¨æˆ·
- [ ] åç«¯æ·»åŠ  `DELETE /users/{id}` - åˆ é™¤ç”¨æˆ·

---

## Phase 9: æ•°æ®å¯è§†åŒ– (Visualization) ğŸ“Š ä½ä¼˜å…ˆçº§

### 9.1 ä»ªè¡¨æ¿é¡µé¢
- [ ] åˆ›å»º `src/pages/DashboardPage.tsx`
- [ ] æ€»ä½“å®Œæˆåº¦å±•ç¤º
- [ ] æ¸ é“ä¸šç»©å¯¹æ¯”å›¾è¡¨
- [ ] æ—¶é—´åºåˆ—è¶‹åŠ¿å›¾

### 9.2 APIé›†æˆ
- [ ] å®ç° `GET /api/visualization/dashboard-summary` - ä»ªè¡¨æ¿æ‘˜è¦
- [ ] å®ç° `GET /api/visualization/channel/{id}/targets` - æ¸ é“ç»Ÿè®¡
- [ ] å®ç° `GET /api/visualization/channel/{id}/time-series` - æ—¶é—´åºåˆ—
- [ ] ä½¿ç”¨Chart.jsæˆ–Rechartsç»˜åˆ¶å›¾è¡¨

---

## Phase 10: ä¼˜åŒ–å’Œå®Œå–„ âœ¨ æŒç»­æ”¹è¿›

### 10.1 ç”¨æˆ·ä½“éªŒ
- [ ] æ·»åŠ å…¨å±€Toasté€šçŸ¥ç»„ä»¶
- [ ] æ·»åŠ ç¡®è®¤å¯¹è¯æ¡†ï¼ˆåˆ é™¤æ“ä½œï¼‰
- [ ] ä¼˜åŒ–è¡¨å•éªŒè¯
- [ ] å“åº”å¼è®¾è®¡ä¼˜åŒ–

### 10.2 æ€§èƒ½ä¼˜åŒ–
- [ ] å®ç°æ•°æ®ç¼“å­˜
- [ ] åˆ†é¡µä¼˜åŒ–
- [ ] æ‡’åŠ è½½
- [ ] ä»£ç åˆ†å‰²

### 10.3 æµ‹è¯•
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•
- [ ] ç¼–å†™é›†æˆæµ‹è¯•
- [ ] E2Eæµ‹è¯•

---

## å½“å‰è¿›åº¦

- âœ… Phase 0: æ¸ é“ç®¡ç†UIæ¡†æ¶ï¼ˆå·²å®Œæˆï¼Œä½¿ç”¨mockæ•°æ®ï¼‰
- âœ… Phase 1: åŸºç¡€è®¾æ–½ï¼ˆå·²å®Œæˆï¼‰- APIå®¢æˆ·ç«¯ã€è®¤è¯æœåŠ¡ã€è·¯ç”±ç³»ç»Ÿ
- âœ… Phase 2: è®¤è¯ç³»ç»Ÿï¼ˆåŸºæœ¬å®Œæˆï¼‰- ç™»å½•é¡µé¢ã€è·¯ç”±å®ˆå«
- ğŸ”„ Phase 3: æ¸ é“ç®¡ç†è¿æ¥API - **ä¸‹ä¸€æ­¥**

---

## æŠ€æœ¯æ ˆç¡®è®¤

- **å‰ç«¯æ¡†æ¶**: React 18.2.0
- **UIåº“**: React Bootstrap 2.7.4
- **HTTPå®¢æˆ·ç«¯**: Axios (éœ€å®‰è£…)
- **è·¯ç”±**: React Router 6
- **çŠ¶æ€ç®¡ç†**: React Context + Hooks
- **å›¾è¡¨**: Chart.js / Recharts (éœ€é€‰æ‹©)
- **TypeScript**: 5.0.4

---

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. å®‰è£…ä¾èµ–: `npm install axios`
2. åˆ›å»ºAPIå®¢æˆ·ç«¯: `src/services/api.ts`
3. åˆ›å»ºè®¤è¯æœåŠ¡: `src/services/auth.service.ts`
4. åˆ›å»ºç™»å½•é¡µé¢: `src/pages/LoginPage.tsx`
5. æ›´æ–°è·¯ç”±é…ç½®
